\section{\PDAC\ Availability and Installation}
\label{section:avail}

\PDAC\ distribution is governed by the License reported at the beginning
of this manual.

\PDAC\ \PDACVERSION\ is based on the MPI message passing interface
({\tt http://www.mpi-forum.org/})
and on a customized communication layer which have been ported to a wide 
variety of parallel platforms.
This section describes how to obtain and install \PDAC\ \PDACVERSION.

\subsection{How to obtain \PDAC}

\PDAC\ may be downloaded from \PDACURL.
You will be required to provide minimal registration information and
agree to a license before receiving access to the software.
Both source and binary distributions are available.

\subsection{Platforms on which \PDAC\ will currently run}

\PDAC\ should be portable to any serial platform with a
Fortran90 and C compilers and to any parallel platform with
the above compilers and the MPI library.
Precompiled \PDAC\ \PDACVERSION\ binaries are available for the following platforms:  
\begin{itemize}
\item Linux on Intel
\item Mac OS X (also called Darwin) on PowerPC processors
\item AIX on RS/6000 processors 
\item HP-UX on PA-RISC processors 
\item Solaris on Sparc processors (with and without MPI)
\item Tru64 Unix on Alpha processors (with and without MPI)
\item IBM RS/6000 SP (using MPI)
\item Compaq AlphaServer SC (using the Quadrics Elan library)
\item SGI Origin 2000 (with and without MPI) 
\end{itemize}

\subsection{Compiling \PDAC}

As mentionead above, we provide binaries for all
platforms to which \PDAC\ has been ported. However, it is 
recommended to recompile the code on your system, 
since hardware is changing rapidly and most probably 
your native Fortran90 compiler will optimize
the code further. 
On Linux parallel platform with MPI, recompiling 
is in practice mandatory, since there are too
many possible combinations of MPI libraries and networking
hardware for which the executables are incompatible.
Recompiling is also required if you wish  
to add or modify features of \PDAC.

\subsubsection{Directory structure}

The \PDAC\ source code is distributed with a 
directory structure with two levels, a single
main directory named \DIR{EXPLORIS} (in the official distribution), 
and several sub-directories.
In what follows the different directories are listed
and their content commented.

\begin{itemize}

\item directory \DIR{EXPLORIS}: 
      this is the main directory and contains the Fortran90 source files
      of the \PDAC\ main subroutines. This directory contains also the 
      \FIL{Makefile} and the \FIL{Machine} file (see below).

\item directory \DIR{EXPLORIS/comm}:
      this subdirectory contains the \PDAC\ communication layer,
      interfaced to MPI and few wrappers for system dependent
      features. In general, all low level subroutines that 
      need preprocessing are in this directory.

\item directory \DIR{EXPLORIS/doc}:
      this directory contains the \PDAC\ documentation and this manual.

\item directory \DIR{EXPLORIS/examples}:
      this directory contains several input files examples.
      
\item directory \DIR{EXPLORIS/utility}:
      this directory contains few utility scripts and programs
      to help compiling and porting the code.

\end{itemize}

\subsubsection{Files \FIL{Machine} and \FIL{Makefile}}

\PDAC\ source code comes with a makefile (named \FIL{Makefile} in the distribution)
that takes care of the compilation of \PDAC\ itself.
The \FIL{Makefile} file contains general commands that should be quite general
and platform independent. There are other \FIL{Makefile} files in the 
subdirectories to compile libraries, utilities and documentations.
All \FIL{Makefile} files include a configuration file named \FIL{Machine},
which contains all the system dependent parameters for the compilation,
like the compiler name and the compilations flags.
In the main directory there are several \FIL{Machine.arch} files already prepared
for a number of existing architectures. 
The \FIL{Machine.arch} files distributed with the source code
are configured and tested on the corresponding architecture, although your system
could have some particular feature which requires some change in the 
\FIL{Machine.arch} file, in this case you should edit the file to make the
proper changes. 
The main \FIL{Makefile} file includes also a hidden file (\FIL{.dependencies}) 
containing all the dependencies among the source Fortran90 files. The \PDAC\ 
source code is infact written using Fortran90 modules and source files
should be compiled in the proper order, determined by the dependencies
among modules. The file \FIL{.dependencies} is generated by the \FIL{shdep} script
distributed togheter with the code (see next section for more details ).

\subsubsection{Making dependencies and compiling}

All steps required to compile the code are now listed and commented.

\begin{itemize}

\item Edit \FIL{Machine} file

      The very first thing you should do to compile \PDAC\ is to choose
      the \FIL{Machine} file for your architecture among those distributed with
      the source code and named \FIL{Machine.arch}, where the "arch" suffix
      vary on the list of the supported architectures. For example, if
      your machine is an IBM Sp4, you should copy the file \FIL{Machine.sp4}
      onto the \FIL{Machine} file. If there isn't the \FIL{Machine.arch} for 
      your architecture, choose the most close among those present
      and edit it to set the compiling parameters to the proper values.
      Once you have find your \FIL{Machine} file you should copy it into the
      file named \FIL{Machine} with the following command:\\
      {\tt >}\\
      {\tt > cp Machine.arch Machine}\\
      {\tt >}\\
      Then you can edit \FIL{Machine} to change compiling parameters,
      such as the compiler options or the executable type (serial or parallel).
      For a serial executable you should unset the -D\_\_MPI precompiler macro
      subsituting it with -D\_\_SERIAL, and substitute the parallel compilers
      with the scalar one, changing the variables FC, MPIFC and LINKER
      in the \FIL{Machine} file.

\item Build the \FIL{.dependencies} file

      Before compiling \PDAC\ executable you shold build the 
      dependencies file (.dependencies). To do this, you should
      move to the directory  EXPLORIS/utility and type \\
      {\tt > make all}\\
      then, supposing that you are in the EXPLORIS directory, 
      the exact sequence of command is:\\
      {\tt > cd utility}\\
      {\tt > make all}\\
      {\tt > cd ..}\\

\item Compiling \FIL{pdac.x} and \FIL{pp.x}

      At this point everything is ready to compile the \PDAC\ executable
      (\FIL{pdac.x}) and the post processing executable (\FIL{pp.x}), from
      the EXPLORIS directory type:\\
      {\tt > make pdac.x}\\
      {\tt >}\\
      {\tt > make pp.x}\\

\item Compiling this manual

      To compile the manual, you must have installed a Tex packages
      with standard \LaTeX\ extensions support, 
      then type the following commands:\\
      {\tt >}\\
      {\tt > cd doc}\\
      {\tt > latex pdac\_ug.tex}\\
      {\tt > latex pdac\_rm.tex}\\
      {\tt > dvips pdac\_ug.dvi -o pdac\_ug.ps }\\
      {\tt > dvips pdac\_rm.dvi -o pdac\_rm.ps }\\

\end{itemize}

\subsection{Documentation}

All available \PDAC\ documentation is available for downloading without
registration via the \PDAC\ web site \PDACURL.

