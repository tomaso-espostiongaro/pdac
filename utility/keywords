#!/bin/sh

for i in $*
do
   cat $i | tr '[:upper:]' '[:lower:]' > /tmp/dum
   cp /tmp/dum $i
   cat $i | sed -e "s/real/REAL/g" \
 -e "s/integer/INTEGER/g" \
 -e "s/logical/LOGICAL/g" \
 -e "s/contains/CONTAINS/g" \
 -e "s/use/USE/g" \
 -e "s/module/MODULE/g" \
 -e "s/_MODULE/_module/g" \
 -e "s/\.true\./\.TRUE\./g" \
 -e "s/\.false\./\.FALSE\./g" \
 -e "s/then/THEN/g" \
 -e "s/else/ELSE/g" \
 -e "s/d0/D0/g" \
 -e "s/d1/D1/g" \
 -e "s/d2/D2/g" \
 -e "s/d3/D3/g" \
 -e "s/d4/D4/g" \
 -e "s/d5/D5/g" \
 -e "s/d6/D6/g" \
 -e "s/d7/D7/g" \
 -e "s/d8/D8/g" \
 -e "s/d9/D9/g" \
 -e "s/d-/D-/g" \
 -e "s/d+/D+/g" \
 -e "s/while/WHILE/g" \
 -e "s/where/WHERE/g" \
 -e "s/case/CASE/g" \
 -e "s/select/SELECT/g" \
 -e "s/default/DEFAULT/g" \
 -e "s/subroutine/SUBROUTINE/g" \
 -e "s/function/FUNCTION/g" \
 -e "s/implicit/IMPLICIT/g" \
 -e "s/deallocate/DEALLOCATE/g" \
 -e "s/allocated/ALLOCATED/g" \
 -e "s/allocate/ALLOCATE/g" \
 -e "s/nullify/NULLIFY/g" \
 -e "s/pointer/POINTER/g" \
 -e "s/target/TARGET/g" \
 -e "s/result/RESULT/g" \
 -e "s/present/PRESENT/g" \
 -e "s/optional/OPTIONAL/g" \
 -e "s/none/NONE/g" \
 -e "s/kind/KIND/g" \
 -e "s/allocatable/ALLOCATABLE/g" \
 -e "s/intent/INTENT/g" \
 -e "s/(in)/(IN)/g" \
 -e "s/(out)/(OUT)/g" \
 -e "s/(inout)/(INOUT)/g" \
 -e "s/return/RETURN/g" \
 -e "s/exit/EXIT/g" \
 -e "s/only/ONLY/g" \
 -e "s/dimension(/DIMENSION(/g" \
 -e "s/call/CALL/g" \
 -e "s/\.gt\./\.GT\./g" \
 -e "s/\.ge\./\.GE\./g" \
 -e "s/\.lt\./\.LT\./g" \
 -e "s/\.le\./\.LE\./g" \
 -e "s/\.eq\./\.EQ\./g" \
 -e "s/\.ne\./\.NE\./g" \
 -e "s/write/WRITE/g" \
 -e "s/print/PRINT/g" \
 -e "s/format/FORMAT/g" \
 -e "s/read/READ/g" \
 -e "s/\.or./\.OR./g" \
 -e "s/\.and./\.AND./g" \
 -e "s/\.not./\.NOT./g" \
 -e "s/\.nor./\.NOR./g" \
 -e "s/\.xor./\.XOR./g" \
 -e "s/size/SIZE/g" \
 -e "s/parameter/PARAMETER/g" \
 -e "s/save/SAVE/g" \
 -e "s/program/PROGRAM/g" \
 -e "s/character/CHARACTER/g" \
 -e "s/open/OPEN/g" \
 -e "s/status/STATUS/g" \
 -e "s/old/OLD/g" \
 -e "s/unknown/UNKNOWN/g" \
 -e "s/append/APPEND/g" \
 -e "s/unformatted/UNFORMATTED/g" \
 -e "s/formatted/FORMATTED/g" \
 -e "s/close/CLOSE/g" \
 -e "s/unit/UNIT/g" \
 -e "s/continue/CONTINUE/g" \
 -e "s/common/COMMON/g" \
 -e "s/include/INCLUDE/g" \
 -e "s/procedure/PROCEDURE/g" \
 -e "s/interface/INTERFACE/g" \
 -e "s/type/TYPE/g" \
 -e "s/goto/GOTO/g" \
 -e "s/file/FILE/g" \
 -e "s/name/NAME/g" \
 -e "s/mod(/MOD(/g" \
 -e "s/min(/MIN(/g" \
 -e "s/max(/MAX(/g" \
 -e "s/end/END/g" \
 -e "s/do/DO/g" \
 -e "s/if/IF/g" \
 -e "s/dsqrt/DSQRT/g" \
 -e "s/exp/EXP/g" \
 -e "s/stop/STOP/g" \
 > /tmp/keys.dum
  cp /tmp/keys.dum $i
 cat $i | sed -e "s/maxval/MAXVAL/g" \
 -e "s/dble/DBLE/g" \
 -e "s/associated/ASSOCIATED/g" \
 -e "s/private/PRIVATE/g" \
 -e "s/public/PUBLIC/g" \
 -e "s/dabs/DABS/g" \
 -e "s/count(/COUNT(/g" \
 -e "s/sum(/SUM(/g" \
 > /tmp/keys.dum
  cp /tmp/keys.dum $i
done
